{
  "key": "xpathgenie_readme",
  "origin": "https://github.com/goodsun/XPathGenie",
  "title": "XPathGenie â€” README",
  "date": "",
  "body": "# XPathGenie\n\n> **\"Rub the lamp, get the XPath.\"**\n> ã€Œ3ã¤ã®é¡˜ã„ã¯ã„ã‚‰ãªã„ã€‚URLã ã‘ãã‚Œã€‚ã€\n\nURLã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€ãƒšãƒ¼ã‚¸ã‹ã‚‰å–å¾—å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿è¦ç´ ã¨XPathãƒãƒƒãƒ”ãƒ³ã‚°ã‚’AIãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹Webã‚¢ãƒ—ãƒªã€‚\n\n## ä½•ãŒã§ãã‚‹ï¼Ÿ\n\n1. è§£æã—ãŸã„ãƒšãƒ¼ã‚¸ã®URLã‚’2ã€œ3å€‹å…¥åŠ›\n2. AIãŒãƒšãƒ¼ã‚¸æ§‹é€ ã‚’è§£æã—ã€å–å¾—å¯èƒ½ãªè¦ç´ ã‚’ç™ºè¦‹\n3. å„è¦ç´ ã®XPathã¨æ±ç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’è‡ªå‹•ç”Ÿæˆ\n4. è¤‡æ•°ãƒšãƒ¼ã‚¸ã§æ¤œè¨¼æ¸ˆã¿ã®ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ä»˜ã\n\nAIã‚’ä½¿ã†ã®ã¯**ãƒãƒƒãƒ”ãƒ³ã‚°ç”Ÿæˆæ™‚ã®1å›ã ã‘**ã€‚ç”Ÿæˆã•ã‚ŒãŸXPathã§ä»¥é™ã¯AIä¸è¦ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒå¯èƒ½ã€‚\n\n## Genie, Aladdin & Jasmine â€” 3ã¤ã®ãƒ„ãƒ¼ãƒ«\n\n### ğŸ§ XPathGenieï¼ˆGenerate â€” ç”Ÿæˆï¼‰\n\nAIãŒXPathãƒãƒƒãƒ”ãƒ³ã‚°ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã€‚2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã‚’æŒã¤ï¼š\n\n- **Auto Discover** â€” URLã ã‘æ¸¡ã›ã°AIãŒå…¨è¦ç´ ã‚’è‡ªå‹•ç™ºè¦‹\n- **Want List** â€” æ¬²ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®JSONã‚¹ã‚­ãƒ¼ãƒã‚’æ¸¡ã—ã¦ç‹™ã„æ’ƒã¡\n\n### ğŸª” XPathAladdinï¼ˆAnalyze â€” æ¤œè¨¼ï¼‰\n\nGenieãŒç”Ÿæˆã—ãŸXPathã‚’å®Ÿãƒšãƒ¼ã‚¸ã§æ¤œè¨¼ã™ã‚‹ãƒªã‚µãƒ¼ãƒãƒ„ãƒ¼ãƒ«ã€‚\n\n- **æœ€å¤§10 URLã‚’ä¸€æ‹¬ãƒ†ã‚¹ãƒˆ** â€” å…¨ãƒšãƒ¼ã‚¸ã§XPathãŒé€šã‚‹ã‹ç¢ºèª\n- **ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ** â€” ãƒšãƒ¼ã‚¸ã”ã¨ã®æŠ½å‡ºçµæœã‚’æ¯”è¼ƒ\n- **ã‚¯ãƒ­ã‚¹ãƒšãƒ¼ã‚¸ãƒ’ãƒƒãƒˆç‡** â€” ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã”ã¨ã«ä½•ãƒšãƒ¼ã‚¸ã§å€¤ãŒå–ã‚ŒãŸã‹è¡¨ç¤º\n- **XPathãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç·¨é›†** â€” ãã®å ´ã§ä¿®æ­£ã—ã¦å³å†è©•ä¾¡\n- **Genieã¨ã®é€£æº** â€” ã€ŒOpen in Aladdinã€ãƒœã‚¿ãƒ³ã§URL+ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’è‡ªå‹•å¼•ãç¶™ã\n\n### ğŸŒ¸ XPathJasmineï¼ˆJoin â€” ã‚»ã‚¯ã‚·ãƒ§ãƒ³é¸æŠï¼‰\n\nåˆ†æå‰ã«ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç¯„å›²ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«é¸æŠã™ã‚‹ãƒ„ãƒ¼ãƒ«ã€‚\n\n- **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‹ã‚¯ãƒªãƒƒã‚¯é¸æŠ** â€” fetchã—ãŸãƒšãƒ¼ã‚¸ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã—ã€åˆ†æå¯¾è±¡ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã§æŒ‡å®š\n- **Include/Exclude** â€” ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆç·‘æ ï¼‰ã¨é™¤å¤–éƒ¨åˆ†ï¼ˆèµ¤æ ï¼‰ã‚’è¦–è¦šçš„ã«é¸æŠ\n- **é¸æŠçµæœã‚’Genieã«å¼•ãæ¸¡ã—** â€” localStorageã‚’é€šã˜ã¦ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æº\n- **i18nå¯¾å¿œ** â€” æ—¥æœ¬èª/è‹±èªUIåˆ‡ã‚Šæ›¿ãˆ\n- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰HTMLæŠ½å‡º** â€” é¸æŠç¯„å›²ã®HTMLã‚’ãƒ–ãƒ©ã‚¦ã‚¶å´ã§æŠ½å‡ºã—ã¦ã‹ã‚‰APIã«é€ä¿¡\n\n### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\n```\nJasmine: URLå…¥åŠ› â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ ã‚»ã‚¯ã‚·ãƒ§ãƒ³é¸æŠï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n                                        â†“\nGenie: URLå…¥åŠ› â†’ AIåˆ†æ â†’ XPathãƒãƒƒãƒ”ãƒ³ã‚°ç”Ÿæˆ â†’ [Open in Aladdin]\n                                                        â†“\nAladdin: 10ãƒšãƒ¼ã‚¸ä¸€æ‹¬Fetch â†’ XPathæ¤œè¨¼ â†’ æ‰‹ä¿®æ­£ â†’ Export (JSON/YAML)\n```\n\nlocalStorageå…±æœ‰ã§G-A-Jé–“ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«é€£æºã€‚\n\n## 2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ï¼ˆGenieï¼‰\n\n### Auto Discoverï¼ˆè‡ªå‹•ç™ºè¦‹ï¼‰\n\nURLã‚’å…¥ã‚Œã‚‹ã ã‘ã€‚AIãŒãƒšãƒ¼ã‚¸ã‚’è¦‹ã¦ã€Œã“ã®ã‚µã‚¤ãƒˆã‹ã‚‰ã¯ã“ã‚ŒãŒå–ã‚Œã‚‹ã€ã¨è¦ç´ ã‚’è‡ªå‹•ç™ºè¦‹ã—ã€æ±ç”¨çš„ãªè‹±èªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’ä»˜ä¸ã™ã‚‹ã€‚\n\n```\nå…¥åŠ›: URL Ã— 2ã€œ3\nå‡ºåŠ›: {\"salary\": \"//dt[text()='çµ¦ä¸']/following-sibling::dd[1]\", ...}\n```\n\n### Want Listï¼ˆæŒ‡å®šãƒ¢ãƒ¼ãƒ‰ï¼‰\n\næ¬²ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®JSONã‚¹ã‚­ãƒ¼ãƒã‚’æ¸¡ã™ã¨ã€ãã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã«åˆã†XPathã‚’è¿”ã™ã€‚\n\n```json\n{\n  \"facility_name\": \"å‹¤å‹™å…ˆã®æ–½è¨­åãƒ»ä¼šç¤¾å\",\n  \"price\": \"çµ¦ä¸ãƒ»æ™‚çµ¦ãƒ»æœˆçµ¦\",\n  \"contract\": \"é›‡ç”¨å½¢æ…‹ï¼ˆæ­£ç¤¾å“¡ã€å¥‘ç´„ç¤¾å“¡ã€ãƒ‘ãƒ¼ãƒˆç­‰ï¼‰\",\n  \"working_hours\": \"\"\n}\n```\n\n- **å€¤ã«èª¬æ˜ã‚’æ›¸ã** â†’ AIãŒæ„å›³ã‚’æ­£ç¢ºã«ç†è§£ã—ã¦æœ€é©ãªXPathã‚’é¸ã¶\n- **å€¤ã‚’ç©ºã«ã™ã‚‹** â†’ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‹ã‚‰æ„å‘³ã‚’æ¨è«–ã—ã¦ãƒãƒƒãƒ”ãƒ³ã‚°\n- Auto Discoverã‚ˆã‚Šãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ãŒå°‘ãªã„ï¼ˆç´„30%æ¸›ï¼‰\n\n## è‡ªå‹•ç²¾åº¦å‘ä¸Šï¼ˆRefineæ©Ÿèƒ½ï¼‰\n\nXPathGenieã¯ç”Ÿæˆå¾Œã«**è‡ªå‹•ã§ç²¾åº¦ã‚’ä¸Šã’ã‚‹**ä»•çµ„ã¿ã‚’æŒã¤ã€‚\n\n### å•é¡Œ: 1ã¤ã®XPathãŒè¤‡æ•°ã®è¦ç´ ã«ãƒãƒƒãƒã™ã‚‹\n\næ±‚äººã‚µã‚¤ãƒˆã§ã¯åŒã˜ãƒ©ãƒ™ãƒ«ï¼ˆã€Œå‹¤å‹™åœ°ã€ã€Œæ±‚äººIDã€ç­‰ï¼‰ãŒãƒ˜ãƒƒãƒ€ãƒ¼ã€è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãªã©è¤‡æ•°ç®‡æ‰€ã«å‡ºç¾ã™ã‚‹ã€‚å˜ç´”ãªXPathã ã¨å…¨ç®‡æ‰€ã«ãƒãƒƒãƒã—ã¦ã—ã¾ã†ã€‚\n\n### è§£æ±º: 2æ®µéšã®Refine\n\n```\nAIç”Ÿæˆ â†’ Validate â†’ è¤‡æ•°ãƒãƒƒãƒæ¤œå‡º â†’ Refine â†’ å†Validate\n```\n\n#### åŒã˜å€¤ã®é‡è¤‡ â†’ æ©Ÿæ¢°çš„çµã‚Šè¾¼ã¿ï¼ˆAIä¸è¦ã€ã‚³ã‚¹ãƒˆ0ï¼‰\n\næ±‚äººIDãŒãƒ˜ãƒƒãƒ€ãƒ¼ã€ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ã€è©³ç´°ã«3å›å‡ºã‚‹å ´åˆï¼š\n\n```\nBefore: //div[contains(@class,'p-offerContainer')]//div[contains(@class,'c-favoriteBtn')]/@data-job_id\nâ†’ 3 matches (same value)\n\nAfter:  //div[contains(@class,'p-offerContainer')]//div[contains(@class,'p-jobDetail-body')]//div[contains(@class,'c-favoriteBtn')]/@data-job_id\nâ†’ 1 match\n```\n\nå…¨ãƒãƒƒãƒè¦ç´ ã®ç¥–å…ˆãƒã‚§ãƒ¼ãƒ³ã‹ã‚‰ã‚¯ãƒ©ã‚¹ã‚’æ¢ç´¢ã—ã€1ä»¶ã«çµã‚Œã‚‹ä¸­é–“ã‚³ãƒ³ãƒ†ãƒŠã‚’è‡ªå‹•æŒ¿å…¥ã™ã‚‹ã€‚\n\n#### ç•°ãªã‚‹å€¤ã®é‡è¤‡ â†’ AIã«Refineä¾é ¼\n\nè©³ç´°ã®ã€Œå‹¤å‹™åœ°ã€ã¨ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã€ŒãŠã™ã™ã‚æ±‚äººã®å‹¤å‹™åœ°ã€ã§å€¤ãŒç•°ãªã‚‹å ´åˆã€å‘¨è¾ºHTMLæ§‹é€ ã‚’AIã«æ¸¡ã—ã¦ã€Œã©ã¡ã‚‰ãŒãƒ¡ã‚¤ãƒ³ã‹ã€ã‚’åˆ¤æ–­ã•ã›ã‚‹ã€‚\n\n```\nAI: \"p-jobDetail-bodyå†…ã®æ–¹ãŒè©³ç´°æƒ…å ± â†’ ã“ã¡ã‚‰ã‚’æ¡ç”¨\"\nâ†’ ä¸­é–“ãƒ‘ã‚¹ã‚’å«ã‚€ã‚ˆã‚Šå…·ä½“çš„ãªXPathã‚’è¿”å´\n```\n\n### æ·±ã•å„ªå…ˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\n\nè¤‡æ•°ãƒãƒƒãƒã®é‡ã¿ã¥ã‘ã«ã¯DOMéšå±¤ã®æ·±ã•ã‚‚è€ƒæ…®ã•ã‚Œã‚‹ã€‚æµ…ã„è¦ç´ ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç­‰ï¼‰ã‚ˆã‚Šæ·±ã„è¦ç´ ï¼ˆè©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ï¼‰ãŒå„ªå…ˆã•ã‚Œã‚‹ã€‚\n\n```python\nscore += depth  # æ·±ã„ã»ã©ã‚¹ã‚³ã‚¢åŠ ç®—ï¼ˆmain/articleç­‰ã®æ§‹é€ ã‚·ã‚°ãƒŠãƒ«ã¨ä½µç”¨ï¼‰\n```\n\n**è¨­è¨ˆæ€æƒ³:** äººé–“ãŒã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã™ã‚‹æ™‚ã¨åŒã˜ã€‚ã¾ãšAIãŒå…¨éƒ¨ã‚„ã£ã¦ã€åˆ¤æ–­ãŒå¿…è¦ãªã¨ã“ã‚ã ã‘äººé–“ãŒAladdinã§ç¢ºèªã™ã‚‹ã€‚å½¹å‰²ãŒé€†è»¢ã—ãŸã ã‘ã§ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ§‹é€ ã¯åŒã˜ã€‚\n\n## çµæœã®è¦‹æ–¹\n\n| é …ç›® | èª¬æ˜ |\n|------|------|\n| Field | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ãƒªãƒãƒ¼ãƒ å¯ï¼‰ |\n| XPath | ç”Ÿæˆã•ã‚ŒãŸXPathå¼ |\n| Confidence | ä¿¡é ¼åº¦ï¼ˆå…¨URLã§å€¤ãŒå–ã‚ŒãŸå‰²åˆï¼‰ã€‚100%=å…¨ãƒšãƒ¼ã‚¸ã§å–å¾—æˆåŠŸ |\n| Samples | å„URLã‹ã‚‰å®Ÿéš›ã«å–å¾—ã•ã‚ŒãŸå€¤ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |\n| refined ãƒãƒƒã‚¸ | Refineæ©Ÿèƒ½ã§è‡ªå‹•ä¿®æ­£ã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ |\n\n### ä¿¡é ¼åº¦ã®èª­ã¿æ–¹\n\n- **100%** â€” å…¨ãƒšãƒ¼ã‚¸ã§å€¤ãŒå–ã‚ŒãŸã€‚å®‰å®šã—ã¦ä½¿ãˆã‚‹\n- **67%** â€” 3ãƒšãƒ¼ã‚¸ä¸­2ãƒšãƒ¼ã‚¸ã§å–ã‚ŒãŸã€‚ãƒšãƒ¼ã‚¸ã«ã‚ˆã£ã¦å­˜åœ¨ã—ãªã„è¦ç´ ã®å¯èƒ½æ€§\n- **0%** â€” å€¤ãŒå–ã‚Œãªã‹ã£ãŸã€‚XPathãŒä¸æ­£ã‹ã€compressorã®åœ§ç¸®ã§æ§‹é€ ãŒå¤±ã‚ã‚ŒãŸå¯èƒ½æ€§\n\n## ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n\nçµæœã¯3ã¤ã®æ–¹æ³•ã§åˆ©ç”¨ã§ãã‚‹:\n\n### JSON\n```json\n{\n  \"facility_name\": \"//dt[text()='å‹¤å‹™å…ˆ']/following-sibling::dd[1]\",\n  \"salary\": \"//dt[text()='çµ¦ä¸']/following-sibling::dd[1]\"\n}\n```\n\n### YAMLï¼ˆteddy_crawleräº’æ›ï¼‰\n```yaml\nmapping:\n  facility_name: \"//dt[text()='å‹¤å‹™å…ˆ']/following-sibling::dd[1]\"\n  salary: \"//dt[text()='çµ¦ä¸']/following-sibling::dd[1]\"\n```\n\n### Open in Aladdin\nçµæœã‚’ãã®ã¾ã¾Aladdinã«å¼•ãæ¸¡ã—ã¦å®Ÿãƒšãƒ¼ã‚¸æ¤œè¨¼ã€‚\n\n## ä½¿ã„æ–¹ã®ã‚³ãƒ„\n\n### è‰¯ã„URLé¸ã³ã®ãƒã‚¤ãƒ³ãƒˆ\n\n- **åŒã˜ã‚µã‚¤ãƒˆã®åŒã˜ç¨®é¡ã®ãƒšãƒ¼ã‚¸**ã‚’2ã€œ3å€‹å…¥ã‚Œã‚‹ï¼ˆè©³ç´°ãƒšãƒ¼ã‚¸åŒå£«ã€ä¸€è¦§ãƒšãƒ¼ã‚¸åŒå£«ï¼‰\n- URLãŒå¤šã„ã»ã©æ¤œè¨¼ã®ä¿¡é ¼åº¦ãŒä¸ŠãŒã‚‹ãŒã€3å€‹ã‚ã‚Œã°ååˆ†\n- ä¸€è¦§ãƒšãƒ¼ã‚¸ã¨è©³ç´°ãƒšãƒ¼ã‚¸ã¯åˆ¥ã€…ã«è§£æã™ã‚‹\n\n### ç²¾åº¦ã‚’ä¸Šã’ã‚‹ã«ã¯\n\n- Want Listãƒ¢ãƒ¼ãƒ‰ã§å€¤ã«ãƒ’ãƒ³ãƒˆã‚’æ›¸ãï¼ˆä¾‹: `\"contract\": \"é›‡ç”¨å½¢æ…‹ï¼ˆæ­£ç¤¾å“¡ã€ãƒ‘ãƒ¼ãƒˆç­‰ï¼‰\"`ï¼‰\n- ä¿¡é ¼åº¦0%ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚ã£ãŸã‚‰ã€Auto Discoverã§å…¨è¦ç´ ã‚’ç¢ºèªã—ã¦ã¿ã‚‹\n- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒªãƒãƒ¼ãƒ  â†’ è‡ªåˆ†ã®ã‚¹ã‚­ãƒ¼ãƒã«åˆã‚ã›ã‚‰ã‚Œã‚‹\n- Jasmineã§ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’äº‹å‰é¸æŠã™ã‚‹ã¨ã€ãƒã‚¤ã‚ºã®å¤šã„ã‚µã‚¤ãƒˆã§ã‚‚ç²¾åº¦å‘ä¸Š\n\n### æ³¨æ„ç‚¹\n\n- **SSRã‚µã‚¤ãƒˆï¼ˆã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰å‘ã‘**ã€‚SPAã‚µã‚¤ãƒˆï¼ˆJavaScriptå‹•çš„ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰ã¯HTMLã‚½ãƒ¼ã‚¹ã«å€¤ãŒãªã„ãŸã‚è§£æã§ããªã„\n- **AIã®è§£æã¯å®Œç’§ã§ã¯ãªã„**ã€‚ç”Ÿæˆã•ã‚ŒãŸXPathã¯å¿…ãšä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢ã‚’ç¢ºèªã™ã‚‹ã“ã¨\n- **ã‚µã‚¤ãƒˆæ§‹é€ ãŒå¤‰ã‚ã‚‹ã¨XPathãŒå£Šã‚Œã‚‹**ã€‚å®šæœŸã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯å®šæœŸçš„ã«å†è§£æã‚’æ¨å¥¨\n- **1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§æœ€å¤§10URL**ã€‚ãã‚Œä»¥ä¸Šã¯ãƒãƒƒãƒåˆ†å‰²ã—ã¦ãã ã•ã„\n- **Gemini APIã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¶ˆè²»ã™ã‚‹**ã€‚1å›ã‚ãŸã‚Šç´„8,000ã€œ18,000ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆãƒ¢ãƒ¼ãƒ‰ã¨ãƒšãƒ¼ã‚¸æ§‹é€ ã«ã‚ˆã‚‹ï¼‰\n- **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: APIã¯30ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/åˆ†ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚ã‚Šã€‚Origin/Refererãƒã‚§ãƒƒã‚¯ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚‚å®Ÿæ–½\n\n## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯\n\n| é …ç›® | æŠ€è¡“ |\n|------|------|\n| Backend | Python / Flask |\n| Frontend | Vue 3 (CDN) / Vanilla CSS |\n| AI | Gemini 2.5 Flash |\n| HTMLè§£æ | lxml |\n| ãƒ†ãƒ¼ãƒ | ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒ + glassmorphism |\n\n## å®Ÿç¸¾\n\n| ã‚µã‚¤ãƒˆ | ãƒšãƒ¼ã‚¸æ•° | ãƒˆãƒ¼ã‚¯ãƒ³ | æ‰€è¦æ™‚é–“ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•° | ä¿¡é ¼åº¦100% |\n|--------|----------|----------|----------|-------------|-----------|\n| ãƒ„ã‚¯ã‚¤ã‚¹ã‚¿ãƒƒãƒ• | 4 | 15,032 | 27.1ç§’ | 20 | 20/20 (100%) |\n| ã‚­ãƒ£ãƒ‡ã‚£ã‚«ãƒ« | 3 | 8,749 | 12.3ç§’ | 23 | 23/23 (100%) |\n\nå¾“æ¥ã®æ‰‹ä½œæ¥­: **1ã‚µã‚¤ãƒˆ5ã€œ6æ™‚é–“** Ã— 33ã‚µã‚¤ãƒˆ = **150ã€œ200æ™‚é–“**\nXPathGenie: **1ã‚µã‚¤ãƒˆ30ç§’** Ã— 33ã‚µã‚¤ãƒˆ = **ç´„15åˆ†**\n\n## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ\n\n```\nXPathGenie/\nâ”œâ”€â”€ app.py                  # Flask API ã‚µãƒ¼ãƒãƒ¼\nâ”œâ”€â”€ index.html              # Genie ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\nâ”œâ”€â”€ aladdin.html            # Aladdin ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\nâ”œâ”€â”€ jasmine.html            # Jasmine ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰\nâ”œâ”€â”€ requirements.txt\nâ”œâ”€â”€ genie/                  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\nâ”‚   â”œâ”€â”€ __init__.py\nâ”‚   â”œâ”€â”€ fetcher.py          # HTMLå–å¾—ï¼ˆSSRFé˜²å¾¡ï¼‰\nâ”‚   â”œâ”€â”€ compressor.py       # HTMLæ§‹é€ åœ§ç¸®\nâ”‚   â”œâ”€â”€ analyzer.py         # Gemini APIå‘¼ã³å‡ºã—\nâ”‚   â””â”€â”€ validator.py        # XPathæ¤œè¨¼ãƒ»Refine\nâ”œâ”€â”€ templates/\nâ”‚   â””â”€â”€ index.html          # Flask root routeç”¨\nâ”œâ”€â”€ static/\nâ”‚   â”œâ”€â”€ css/\nâ”‚   â”œâ”€â”€ js/\nâ”‚   â””â”€â”€ images/\nâ”œâ”€â”€ wallpapers/             # å£ç´™ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãƒšãƒ¼ã‚¸\nâ”‚   â”œâ”€â”€ index.html\nâ”‚   â””â”€â”€ images/\nâ”œâ”€â”€ scripts/                # è©•ä¾¡ãƒ»å®Ÿé¨“ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\nâ”‚   â”œâ”€â”€ evaluate_site.py\nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ docs/\nâ”‚   â”œâ”€â”€ whitepaper.md\nâ”‚   â”œâ”€â”€ ISSUES.md\nâ”‚   â”œâ”€â”€ evaluation/         # å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆãƒ»çµæœ\nâ”‚   â””â”€â”€ proposals/          # è¨­è¨ˆææ¡ˆ\nâ”œâ”€â”€ README.md\nâ””â”€â”€ LICENSE\n```\n\n## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£\n\n```mermaid\ngraph TD\n    A[\"Genie: URLå…¥åŠ› (2~10å€‹)\"] --> B[fetcher: HTMLå–å¾—<br/>SSRFé˜²å¾¡ä»˜ã]\n    B --> C[compressor: æ§‹é€ åœ§ç¸®<br/>695KB â†’ 20KB]\n    C --> D[analyzer: Gemini 2.5 Flash<br/>XPathãƒãƒƒãƒ”ãƒ³ã‚°ç”Ÿæˆ]\n    D --> E[validator: å…¨ãƒšãƒ¼ã‚¸ã§<br/>XPathå®Ÿè¡Œãƒ»ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢]\n    E --> F{è¤‡æ•°ãƒãƒƒãƒ<br/>æ¤œå‡º?}\n    F -- åŒã˜å€¤ --> G[æ©Ÿæ¢°çš„çµè¾¼<br/>ä¸­é–“ã‚¯ãƒ©ã‚¹è‡ªå‹•æŒ¿å…¥<br/>ã‚³ã‚¹ãƒˆ0]\n    F -- ç•°ãªã‚‹å€¤ --> H[AI Refine<br/>å‘¨è¾ºHTMLã§å†æ¨è«–]\n    F -- ãªã— --> I[æœ€çµ‚çµæœ]\n    G --> J[å†Validate]\n    H --> J\n    J --> I\n\n    I --> K[\"Open in Aladdin\"]\n    K --> L[\"Aladdin: 10ãƒšãƒ¼ã‚¸ä¸€æ‹¬Fetch\"]\n    L --> M[ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ¤œè¨¼<br/>ã‚¯ãƒ­ã‚¹ãƒšãƒ¼ã‚¸ãƒ’ãƒƒãƒˆç‡]\n    M --> N[XPathæ‰‹ä¿®æ­£<br/>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å†è©•ä¾¡]\n    N --> O[\"Export: JSON / YAML\"]\n\n    style A fill:#7c5cfc,color:#fff\n    style D fill:#9f7aea,color:#fff\n    style G fill:#4caf50,color:#fff\n    style H fill:#ff9800,color:#fff\n    style K fill:#7c5cfc,color:#fff\n    style O fill:#4caf50,color:#fff\n```\n\n## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n\n### å‰ææ¡ä»¶\n\n- Python 3.9+\n- Gemini APIã‚­ãƒ¼ï¼ˆä»¥ä¸‹ã„ãšã‚Œã‹ã®æ–¹æ³•ã§è¨­å®šï¼‰\n\n### APIã‚­ãƒ¼ã®è¨­å®šï¼ˆBYOK â€” Bring Your Own Keyï¼‰\n\nXPathGenieã¯**BYOKæ–¹å¼**ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã®Gemini APIã‚­ãƒ¼ã‚’æŒã¡è¾¼ã‚“ã§åˆ©ç”¨ã—ã¾ã™ã€‚\n\n#### æ–¹æ³•1: Web UIã§å…¥åŠ›ï¼ˆæ¨å¥¨ï¼‰\n\n1. [Google AI Studio](https://aistudio.google.com/apikey) ã§Gemini APIã‚­ãƒ¼ã‚’å–å¾—ï¼ˆç„¡æ–™æ ã‚ã‚Šï¼‰\n2. XPathGenieã®Web UIã§APIã‚­ãƒ¼æ¬„ã«å…¥åŠ›\n3. ã€ŒRemember keyã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageã«ä¿å­˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰\n\nè©³ã—ãã¯ [Setup Guide](setup-guide.html) ã‚’å‚ç…§ã€‚\n\n#### æ–¹æ³•2: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰è¨­å®šï¼ˆé–‹ç™ºãƒ»ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆç”¨ï¼‰\n\n```bash\n# APIã‚­ãƒ¼ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«é…ç½®\nmkdir -p ~/.config/google\necho \"YOUR_API_KEY\" > ~/.config/google/gemini_api_key\n\n# ã‚µãƒ¼ãƒãƒ¼ã‚­ãƒ¼ã§ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’è¨±å¯ï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰\nexport XPATHGENIE_ALLOW_SERVER_KEY=1\n```\n\n> âš ï¸ å…¬é–‹ã‚µãƒ¼ãƒãƒ¼ã§ã¯ `XPATHGENIE_ALLOW_SERVER_KEY` ã‚’è¨­å®šã—ãªã„ã§ãã ã•ã„ã€‚å…¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚µãƒ¼ãƒãƒ¼ã‚ªãƒ¼ãƒŠãƒ¼ã®APIã‚­ãƒ¼ã§èª²é‡‘ã•ã‚Œã¾ã™ã€‚\n\n> ğŸ”’ **æœ¬ç•ªç’°å¢ƒã§ã¯å¿…ãšHTTPSçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚** APIã‚­ãƒ¼ãŒPOSTãƒœãƒ‡ã‚£ã«å«ã¾ã‚Œã‚‹ãŸã‚ã€HTTPã§ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã§å‚å—ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\n\n> âš ï¸ **ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·åˆ©ç”¨æ™‚ã®æ³¨æ„:** Rate Limiterã¯ `X-Forwarded-For` ãƒ˜ãƒƒãƒ€ãƒ¼ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIPã‚’è­˜åˆ¥ã—ã¾ã™ã€‚ã“ã‚Œã¯ä¿¡é ¼ã§ãã‚‹ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼ˆApache, nginxç­‰ï¼‰ã®èƒŒå¾Œã§ã®ã¿å®‰å…¨ã§ã™ã€‚XPathGenieã‚’ç›´æ¥ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å…¬é–‹ã™ã‚‹å ´åˆã€æ”»æ’ƒè€…ãŒãƒ˜ãƒƒãƒ€ãƒ¼ã‚’å½è£…ã—ã¦Rate Limitã‚’å›é¿ã§ãã¾ã™ã€‚æœ¬æ ¼çš„ãªSaaSåŒ–æ™‚ã«ã¯Flaskã® [ProxyFix](https://werkzeug.palletsprojects.com/en/latest/middleware/proxy_fix/) ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®å°å…¥ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚\n\n### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```bash\npip install flask lxml requests\n```\n\n### èµ·å‹•\n\n```bash\npython3 app.py\n# â†’ http://localhost:8789\n```\n\n### systemdã‚µãƒ¼ãƒ“ã‚¹ï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰\n\n```ini\n[Unit]\nDescription=XPathGenie Flask API\nAfter=network.target\n\n[Service]\nType=simple\nUser=ec2-user\nWorkingDirectory=/path/to/XPathGenie\nExecStart=/usr/bin/python3 -u app.py\nRestart=always\nRestartSec=3\n\n[Install]\nWantedBy=multi-user.target\n```\n\n```bash\nsudo systemctl enable xpathgenie\nsudo systemctl start xpathgenie\n```\n\n### Apacheé€£æºï¼ˆãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼‰\n\n```apache\nProxyPass /xpathgenie/api/ http://127.0.0.1:8789/api/ flushpackets=on timeout=60\nProxyPassReverse /xpathgenie/api/ http://127.0.0.1:8789/api/\n```\n\né™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¯Apacheã®Alias or ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§é…ä¿¡ã€‚\n\n## API\n\n### POST /api/analyze\n\n```json\n// Request â€” Auto Discover\n{\n  \"urls\": [\n    \"https://example.com/detail?id=100\",\n    \"https://example.com/detail?id=101\"\n  ],\n  \"api_key\": \"YOUR_GEMINI_API_KEY\"\n}\n\n// Request â€” Want List\n{\n  \"urls\": [\n    \"https://example.com/detail?id=100\",\n    \"https://example.com/detail?id=101\"\n  ],\n  \"api_key\": \"YOUR_GEMINI_API_KEY\",\n  \"wantlist\": {\n    \"title\": \"ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«\",\n    \"price\": \"ä¾¡æ ¼ãƒ»æ–™é‡‘\",\n    \"location\": \"\"\n  }\n}\n\n// Response (success)\n{\n  \"status\": \"ok\",\n  \"site\": \"example.com\",\n  \"mappings\": {\n    \"title\": {\n      \"xpath\": \"//h1[contains(@class,'title')]\",\n      \"confidence\": 1.0,\n      \"samples\": [\"æ±‚äººã‚¿ã‚¤ãƒˆãƒ«A\", \"æ±‚äººã‚¿ã‚¤ãƒˆãƒ«B\"],\n      \"optional\": false\n    }\n  },\n  \"pages_analyzed\": 2,\n  \"pages_failed\": 0,\n  \"tokens_used\": 8749,\n  \"elapsed_seconds\": 12.3,\n  \"refined_fields\": [\"original_id\"],\n  \"diagnostics\": {\n    \"compressed_size_bytes\": 15234\n  }\n}\n\n// Response (error)\n{\n  \"status\": \"error\",\n  \"reason\": \"fetch_failed\",\n  \"message\": \"Failed to fetch all URLs\",\n  \"suggestion\": \"Check if the site requires JavaScript rendering (SPA).\",\n  \"diagnostics\": {}\n}\n```\n\n### GET /api/fetch?url=...\n\nAladdinç”¨ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰HTMLãƒ•ã‚§ãƒƒãƒï¼ˆCORSå›é¿ï¼‰ã€‚\n\n```json\n// Response\n{\n  \"html\": \"<html>...\",\n  \"url\": \"https://example.com/page\"\n}\n```\n\n## ãŠã¾ã‘\n\n- **Wallpapers** â€” XPathGenieãƒ†ãƒ¼ãƒã®å£ç´™ã‚®ãƒ£ãƒ©ãƒªãƒ¼ (`/wallpapers/`)\n\n## ãƒ›ãƒ¯ã‚¤ãƒˆãƒšãƒ¼ãƒ‘ãƒ¼\n\næŠ€è¡“çš„ãªè©³ç´°ã¯ [Technical Whitepaper](docs/whitepaper.md) ã‚’å‚ç…§ã€‚\n\n## XPathAbu â€” Chromeæ‹¡å¼µ\n\nDOMè¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦XPathã‚’å³åº§ã«å–å¾—ã™ã‚‹Chromeæ‹¡å¼µæ©Ÿèƒ½ã€‚\n\n- ğŸ“– [English README](extension/README.md)\n- ğŸ“– [æ—¥æœ¬èª README](extension/README_JP.md)\n\n## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹\n\nMIT License â€” see [LICENSE](LICENSE)\n\n## Author\n\ngoodsun",
  "tags": "XPathGenie, README, bon-soleil, product"
}