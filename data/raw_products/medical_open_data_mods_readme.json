{
  "key": "medical_open_data_mods_readme",
  "origin": "https://github.com/goodsun/medical_open_data",
  "title": "medical_open_data (MODS) â€” README",
  "date": "",
  "body": "# ğŸ¥ MODS â€” Medical Open Data Search\n\nåšç”ŸåŠ´åƒçœã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ç”¨ã—ãŸå…¨å›½20ä¸‡ä»¶ã®åŒ»ç™‚æ–½è¨­æ¤œç´¢API + Web UI\n\n**ğŸ”— https://mods.bon-soleil.com/**\n\n## ç‰¹å¾´\n\n- ğŸ” **å…¨å›½200,064æ–½è¨­**ã‚’æ¤œç´¢ï¼ˆç—…é™¢ãƒ»è¨ºç™‚æ‰€ãƒ»æ­¯ç§‘ãƒ»åŠ©ç”£æ‰€ãƒ»è–¬å±€ï¼‰\n- ğŸ—ºï¸ **åœ°å›³UI** â€” ç¾åœ¨åœ°ã‹ã‚‰è¿‘ãã®ç—…é™¢ã‚’åœ°å›³ã§æ¢ã›ã‚‹ï¼ˆè¨ºç™‚ä¸­ãƒ•ã‚£ãƒ«ã‚¿ä»˜ãï¼‰\n- ğŸ“Š **128ä¸‡ä»¶ã®è¨ºç™‚ç§‘ãƒ‡ãƒ¼ã‚¿** â€” è¨ºç™‚æ™‚é–“ãƒ»ä¼‘è¨ºæ—¥ã¾ã§\n- ğŸ• **ã€Œä»Šã‚„ã£ã¦ã‚‹ç—…é™¢ã€** â€” `open_now` ãƒ•ã‚£ãƒ«ã‚¿ã§è¨ºç™‚ä¸­ã®æ–½è¨­ã ã‘æ¤œç´¢\n- ğŸ¢ **æ³•äººç•ªå·ç´ä»˜ã** â€” 14.5ä¸‡æ–½è¨­ (72.4%) ã«å›½ç¨åºæ³•äººç•ªå·ã‚’ãƒãƒƒãƒãƒ³ã‚°\n- âš¡ **å…¨æ–‡æ¤œç´¢ (FTS5)** â€” NFKCæ­£è¦åŒ–ã§å…¨è§’/åŠè§’ã‚’å•ã‚ãšé«˜é€Ÿæ¤œç´¢\n- ğŸ“– **OpenAPIä»•æ§˜** â€” Swagger UI / ReDoc / JSON\n- ğŸ“‹ **DCATã‚«ã‚¿ãƒ­ã‚°** â€” ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒšãƒ¼ã‚¹é€£æºç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ (JSON-LD)\n\n## ãƒ‡ãƒ¢\n\n```bash\n# æ¸‹è°·é§…ã‹ã‚‰1kmä»¥å†…ã®å†…ç§‘\ncurl \"https://mods.bon-soleil.com/api/v1/facilities/nearby?lat=35.658&lng=139.702&radius=1&specialty=å†…ç§‘\"\n\n# ä»Šã‚„ã£ã¦ã‚‹å†…ç§‘ï¼ˆæ¸‹è°·ï¼‰\ncurl \"https://mods.bon-soleil.com/api/v1/facilities?q=æ¸‹è°·&specialty=å†…ç§‘&open_now=true\"\n\n# æ±äº¬éƒ½ã®ç—…é™¢ä¸€è¦§\ncurl \"https://mods.bon-soleil.com/api/v1/facilities?prefecture=13&type=1\"\n\n# æ–½è¨­è©³ç´°ï¼ˆæ³•äººç•ªå·ãƒ»è¨ºç™‚ç§‘ãƒ»ç—…åºŠä»˜ãï¼‰\ncurl \"https://mods.bon-soleil.com/api/v1/facilities/0111010000010\"\n\n# ãƒ‡ãƒ¼ã‚¿ã‚«ã‚¿ãƒ­ã‚°ï¼ˆDCAT-AP JSON-LDï¼‰\ncurl \"https://mods.bon-soleil.com/api/v1/catalog\"\n```\n\n## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰\n\n```bash\npip install -r requirements.txt\n\n# åšåŠ´çœã‹ã‚‰CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰\npython scripts/fetch_data.py\n\n# DBã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆSQLiteã€ç´„10åˆ†ï¼‰\npython scripts/import_data.py\n\n# æ³•äººç•ªå·ãƒãƒƒãƒãƒ³ã‚°ï¼ˆå›½ç¨åºCSVåˆ¥é€”DLè¦ï¼‰\npython scripts/match_corporate.py\n\n# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•\nuvicorn api.main:app --port 8000\n# â†’ http://localhost:8000/ ã§ Web UI\n# â†’ http://localhost:8000/docs ã§ API Playground\n```\n\n## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n\n| ãƒ‘ã‚¹ | èª¬æ˜ |\n|------|------|\n| `GET /` | Web UIï¼ˆåœ°å›³ä»˜ãæ¤œç´¢ï¼‰ |\n| `GET /api/v1/facilities` | æ–½è¨­æ¤œç´¢ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»è¨ºç™‚ç§‘ãƒ»ç¨®åˆ¥ãƒ»åœ°åŸŸãƒ»`open_now`ï¼‰ |\n| `GET /api/v1/facilities/nearby` | è¿‘éš£æ¤œç´¢ï¼ˆç·¯åº¦çµŒåº¦ + åŠå¾„ãƒ»`open_now`ï¼‰ |\n| `GET /api/v1/facilities/{id}` | æ–½è¨­è©³ç´° |\n| `GET /api/v1/specialities` | è¨ºç™‚ç§‘ãƒã‚¹ã‚¿ |\n| `GET /api/v1/prefectures` | éƒ½é“åºœçœŒä¸€è¦§ |\n| `GET /api/v1/stats` | çµ±è¨ˆæƒ…å ± |\n| `GET /api/v1/catalog` | DCATã‚«ã‚¿ãƒ­ã‚° (JSON-LD) |\n| `GET /docs` | API Playground (Swagger UI) |\n| `GET /redoc` | API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ (ReDoc) |\n| `GET /openapi.json` | OpenAPIä»•æ§˜ (JSON) |\n\n## ãƒ‡ãƒ¼ã‚¿æ›´æ–°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼\n\nåšåŠ´çœãƒ‡ãƒ¼ã‚¿ã¯å¹´2å›ï¼ˆ6æœˆãƒ»12æœˆï¼‰ã€æ³•äººç•ªå·ã¯æœˆæ¬¡ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚\n\n### 1. åšåŠ´çœãƒ‡ãƒ¼ã‚¿æ›´æ–°\n\n```bash\n# â‘  CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆå¼•æ•°ã«ãƒ‡ãƒ¼ã‚¿å…¬é–‹æ—¥ YYYYMMDD ã‚’æŒ‡å®šï¼‰\n#    åšåŠ´çœZIPãƒ•ã‚¡ã‚¤ãƒ«åã®æ—¥ä»˜éƒ¨åˆ†ï¼ˆä¾‹: 20260601ï¼‰\npython scripts/fetch_data.py 20260601\n\n# â‘¡ DBã‚’å†æ§‹ç¯‰ï¼ˆæ—¢å­˜ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’DROPã—ã¦å†ä½œæˆï¼‰\nrm data/medical.db          # or ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: cp data/medical.db data/medical.db.bak\npython scripts/import_data.py\n\n# â‘¢ æ³•äººç•ªå·ã‚’å†ãƒãƒƒãƒãƒ³ã‚°ï¼ˆâ†“å‚ç…§ï¼‰\npython scripts/match_corporate.py\n```\n\n**æ›´æ–°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**: [åŒ»ç™‚æƒ…å ±ãƒãƒƒãƒˆ](https://www.mhlw.go.jp/stf/seisakunitsuite/bunya/kenkou_iryou/iryou/newpage_43373.html) ã§æ–°ã—ã„ZIPãŒå…¬é–‹ã•ã‚ŒãŸã‚‰å®Ÿè¡Œã€‚\n\n### 2. æ³•äººç•ªå·ãƒ‡ãƒ¼ã‚¿æ›´æ–°\n\nå›½ç¨åºã®å…¨ä»¶CSVã¯[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸](https://www.houjin-bangou.nta.go.jp/download/zenken/)ã‹ã‚‰CAPTCHAä»˜ãã§æ‰‹å‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ã€‚\n\n```bash\n# â‘  ZIPã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â†’ data/houjin/ ã«é…ç½®\n#    ãƒ•ã‚¡ã‚¤ãƒ«åä¾‹: 00_zenkoku_all_20260130.zip\ncd data/houjin/\nunzip 00_zenkoku_all_20260130.zip  # â†’ .csv ãŒå±•é–‹ã•ã‚Œã‚‹\n\n# â‘¡ ãƒãƒƒãƒãƒ³ã‚°å®Ÿè¡Œï¼ˆç´„5åˆ†ã€ãƒ¡ãƒ¢ãƒª2GBæ¨å¥¨ï¼‰\ncd ~/tools/medical_open_data\npython scripts/match_corporate.py\n#    â†’ facilities ãƒ†ãƒ¼ãƒ–ãƒ«ã® corporate_number ã‚«ãƒ©ãƒ ã‚’æ›´æ–°\n```\n\n### 3. æœ¬ç•ªåæ˜ \n\n```bash\nsudo systemctl restart mods-api\n```\n\n> âš ï¸ `data/raw/` ã¨ `data/houjin/` ã¯ `.gitignore` æ¸ˆã¿ã€‚CSVãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒªãƒã‚¸ãƒˆãƒªã«å«ã‚ãªã„ã“ã¨ã€‚\n\n## ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹\n\n| ã‚½ãƒ¼ã‚¹ | ä»¶æ•° | æ›´æ–° |\n|--------|------|------|\n| [åšåŠ´çœ åŒ»ç™‚æƒ…å ±ãƒãƒƒãƒˆ](https://www.mhlw.go.jp/stf/seisakunitsuite/bunya/kenkou_iryou/iryou/newpage_43373.html) | 200,064æ–½è¨­ / 1,283,106è¨ºç™‚ç§‘ | å¹´2å› |\n| [å›½ç¨åº æ³•äººç•ªå·](https://www.houjin-bangou.nta.go.jp/download/) | 5,741,920æ³•äºº | æœˆæ¬¡ |\n\n## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯\n\nFastAPI / SQLAlchemy 2.0 / Pydantic v2 / SQLite (FTS5) / Leaflet.js / OpenStreetMap\n\n## ãƒ†ã‚¹ãƒˆ\n\n```bash\npip install pytest httpx\npython -m pytest tests/ -v\n```\n\n18æœ¬ã®Smoke testã§å…¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ­£å¸¸å‹•ä½œã‚’ç¢ºèªã€‚\n\n## DBåˆ‡ã‚Šæ›¿ãˆ\n\n```bash\nDATABASE_URL=sqlite:///data/medical.db       # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ\nDATABASE_URL=postgresql://user:pass@host/db  # PostgreSQL\nDATABASE_URL=mysql+pymysql://user:pass@host/db  # MySQL\n```\n\n## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n- [è¨­è¨ˆæ›¸](docs/DESIGN.md)\n- [ãƒ“ã‚¸ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¹ãƒšãƒ¼ã‚¹æ§‹æƒ³ï¼‰](docs/VISION.md)\n- [ãƒ‡ãƒ—ãƒ­ã‚¤](docs/DEPLOY.md)\n- [Developer Notes](docs/developer_notes/) â€” æŠ€è¡“çš„èª²é¡Œã¨è§£æ±ºç­–ã®è¨˜éŒ²\n\n## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹\n\nãƒ‡ãƒ¼ã‚¿: [åšç”ŸåŠ´åƒçœ åˆ©ç”¨è¦ç´„](https://www.mhlw.go.jp/chosakuken/index.html)æº–æ‹  / ã‚³ãƒ¼ãƒ‰: MIT",
  "tags": "medical_open_data (MODS), README, bon-soleil, product"
}