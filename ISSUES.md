# RAG課題リスト

## 検索精度

### 1. タイトルキーワードがヒットしない問題
- **発見日**: 2026-02-09
- **事象**: 「煩悩駆動開発」で検索 → 「Theravada minimal ｜ 煩悩駆動開発のススメ」がヒットしない
- **原因**: チャンク本文の意味ベクトルがクエリと離れている。タイトルにキーワードがあっても、チャンク内容が仏教の解説中心だとベクトル的に遠い
- **対策（実施済み 2026-02-09）**:
  - [x] 各チャンクの先頭に `【タイトル】` を付与して再埋め込み（chunker.py修正）
  - [x] タイトル部分文字列マッチをフォールバック検索として追加（api.py修正）
  - [ ] タイトル専用のコレクションを作り、ベクトル検索 + タイトル検索の2段構え（未着手・現状で十分か様子見）

## データ

### 2. 新規記事の自動取り込み
- **状況**: 現在は手動でスクレイプ→チャンク→埋め込み
- **対策案**:
  - [ ] cron で新着記事を検出して自動追加

### 3. 記事以外のデータソース
- **状況**: 現在はnote.com記事のみ（142記事/1,315チャンク）
- **対策案**:
  - [ ] テディの日記
  - [ ] BizenDAO資料
  - [ ] GitHubのREADME/ドキュメント

## チャンキング

### 4. チャンク分割の粒度
- **状況**: 未検証。適切なチャンクサイズか要確認
- **対策案**:
  - [ ] チャンクサイズ変更による検索精度の比較実験

## API

### 5. メタデータフィルタリング
- **状況**: 現在は全記事から検索のみ
- **対策案**:
  - [ ] 著者フィルタ（flow_theory / teddy_on_web）
  - [ ] 日付範囲フィルタ
  - [ ] タグ/カテゴリフィルタ

---
*実際に使いながら追記していく*
